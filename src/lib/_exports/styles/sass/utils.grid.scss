@layer utils {
	:where(.grid) {
		/* local vars */
		--cols: 1;
		--gap: 0rem;
		--maxWidth: 1fr;
		--minWidth: clamp(12rem, 16vmin, 24rem);
		--repeat: auto-fill;

		gap: var(--gap);
		grid-template-columns: repeat(var(--repeat),
				minmax(max(var(--minWidth), calc(100% / var(--cols) - var(--gap))),
					var(--maxWidth)));
		height: max-content;

		@for $i from 1 through 12 {
			&.cols-#{$i} {
				--cols: #{$i};
			}
		}

		&[data-template='container'] {
			grid-template-columns: [ expand-start] minmax(1rem, 1fr) [ contain-start] minmax(0,
					40rem) [ contain-end] minmax(1rem, 1fr) [ expand-end];
		}
	}
}